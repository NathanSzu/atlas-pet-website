{"ast":null,"code":"var _jsxFileName = \"G:\\\\Web Coding\\\\atlas-pet-website\\\\src\\\\components\\\\Application\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport WorkHistory from '../WorkHistory';\nimport AppQuestion from '../AppQuestion.js';\nimport ApplicationContent from '../../utils/ApplicationContent';\nimport \"./application.css\";\nimport app from '../../utils/firebase'; // Importing firebase SDK\n\nimport firebase from 'firebase/app'; // Importing firestore database\n\nimport 'firebase/firestore';\nexport default function Application({\n  position,\n  setApply,\n  currentUser\n}) {\n  const {\n    content\n  } = ApplicationContent;\n  const [workHistory, setWorkHistory] = useState(0);\n  var db = firebase.firestore(app); // Need to set as empty and pass in from Careers but testing works \n\n  const [questions, setQuestions] = useState([]);\n  useEffect(() => {\n    // useEffect hook to populate the questions on the application based off of selected job and location.\n    for (let i = 0; i < content.length; i++) {\n      if (content[i].title + \": \" + content[i].location === position) {\n        setQuestions(content[i].questions);\n      }\n    }\n  }, []);\n  const [applicantInfo, setApplicantInfo] = useState({\n    position: position,\n    fname: \"\",\n    lname: \"\",\n    dob: \"\",\n    phone: \"\",\n    email: \"\",\n    start: \"\",\n    updated: firebase.firestore.FieldValue.serverTimestamp(),\n    uid: currentUser.uid\n  });\n\n  function handleFnameChange(e) {\n    console.log(workHistory);\n    setApplicantInfo({ ...applicantInfo,\n      fname: e.target.value\n    });\n  }\n\n  ;\n\n  function handleLnameChange(e) {\n    console.log(applicantInfo);\n    setApplicantInfo({ ...applicantInfo,\n      lname: e.target.value\n    });\n  }\n\n  ;\n\n  function handleDobChange(e) {\n    console.log(applicantInfo);\n    setApplicantInfo({ ...applicantInfo,\n      dob: e.target.value\n    });\n  }\n\n  ;\n\n  function handlePhoneChange(e) {\n    console.log(applicantInfo);\n    setApplicantInfo({ ...applicantInfo,\n      phone: e.target.value\n    });\n  }\n\n  ;\n\n  function handleEmailChange(e) {\n    console.log(applicantInfo);\n    setApplicantInfo({ ...applicantInfo,\n      email: e.target.value\n    });\n  }\n\n  ;\n\n  function handleStartChange(e) {\n    console.log(applicantInfo);\n    setApplicantInfo({ ...applicantInfo,\n      start: e.target.value\n    });\n  }\n\n  ;\n\n  const handleApplicationSubmit = e => {\n    e.preventDefault();\n    db.collection(\"applications\").doc(currentUser.uid).set({ ...applicantInfo\n    }, {\n      merge: true\n    }).then(function () {\n      console.log(\"Document successfully written!\");\n      setApply(false);\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"application-form-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"application-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"app-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, position), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit-btn btn btn-light btn-submit close-btn\",\n    type: \"button\",\n    onClick: () => {\n      setApply(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"X\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row application-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 input-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"app-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleFnameChange,\n    type: \"text\",\n    id: \"fname\",\n    name: \"fname\",\n    className: \"riser app-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 input-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"app-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleLnameChange,\n    type: \"text\",\n    id: \"lname\",\n    name: \"lname\",\n    className: \"riser app-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 input-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"app-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, \"Date of Birth\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleDobChange,\n    type: \"date\",\n    id: \"birthDate\",\n    name: \"birthDate\",\n    className: \"riser app-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 input-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"app-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, \"Phone\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handlePhoneChange,\n    type: \"tel\",\n    id: \"tel\",\n    name: \"tel\",\n    className: \"riser app-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 input-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"app-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleEmailChange,\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    className: \"riser app-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 input-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"app-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, \"When are you available to start?\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleStartChange,\n    type: \"date\",\n    id: \"hireDate\",\n    name: \"hireDate\",\n    className: \"riser app-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row application-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, workHistory > 0 ? /*#__PURE__*/React.createElement(WorkHistory, {\n    historyItem: 1,\n    db: db,\n    currentUser: currentUser,\n    position: position,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 40\n    }\n  }) : null, workHistory > 1 ? /*#__PURE__*/React.createElement(WorkHistory, {\n    historyItem: 2,\n    db: db,\n    currentUser: currentUser,\n    position: position,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 40\n    }\n  }) : null, workHistory > 2 ? /*#__PURE__*/React.createElement(WorkHistory, {\n    historyItem: 3,\n    db: db,\n    currentUser: currentUser,\n    position: position,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 40\n    }\n  }) : null, workHistory < 3 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit-btn btn btn-light btn-submit\",\n    type: \"button\",\n    onClick: () => {\n      setWorkHistory(workHistory + 1);\n      console.log(workHistory);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }, \"+ Experience\")) : null), questions.map((question, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(AppQuestion, {\n    qid: i,\n    question: question,\n    db: db,\n    currentUser: currentUser,\n    position: position,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"submit-btn btn btn-light btn-submit\",\n    onClick: handleApplicationSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, \"Submit Application\")));\n}","map":{"version":3,"sources":["G:/Web Coding/atlas-pet-website/src/components/Application/index.js"],"names":["React","useState","useEffect","WorkHistory","AppQuestion","ApplicationContent","app","firebase","Application","position","setApply","currentUser","content","workHistory","setWorkHistory","db","firestore","questions","setQuestions","i","length","title","location","applicantInfo","setApplicantInfo","fname","lname","dob","phone","email","start","updated","FieldValue","serverTimestamp","uid","handleFnameChange","e","console","log","target","value","handleLnameChange","handleDobChange","handlePhoneChange","handleEmailChange","handleStartChange","handleApplicationSubmit","preventDefault","collection","doc","set","merge","then","catch","error","map","question"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport WorkHistory from '../WorkHistory'\r\nimport AppQuestion from '../AppQuestion.js'\r\nimport ApplicationContent from '../../utils/ApplicationContent'\r\nimport \"./application.css\"\r\nimport app from '../../utils/firebase';\r\n// Importing firebase SDK\r\nimport firebase from 'firebase/app';\r\n// Importing firestore database\r\nimport 'firebase/firestore';\r\n\r\nexport default function Application({ position, setApply, currentUser }) {\r\n    const { content } = ApplicationContent;\r\n    const [workHistory, setWorkHistory] = useState(0);\r\n\r\n    var db = firebase.firestore(app)\r\n\r\n    // Need to set as empty and pass in from Careers but testing works \r\n    const [questions, setQuestions] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // useEffect hook to populate the questions on the application based off of selected job and location.\r\n        for (let i = 0; i < content.length; i++) {\r\n            if (content[i].title + \": \" + content[i].location === position) {\r\n                setQuestions(content[i].questions)\r\n            }\r\n        }\r\n    }, [])\r\n\r\n    const [applicantInfo, setApplicantInfo] = useState({\r\n        position: position,\r\n        fname: \"\",\r\n        lname: \"\",\r\n        dob: \"\",\r\n        phone: \"\",\r\n        email: \"\",\r\n        start: \"\",\r\n        updated: firebase.firestore.FieldValue.serverTimestamp(),\r\n        uid: currentUser.uid\r\n    });\r\n\r\n    function handleFnameChange(e) {\r\n        console.log(workHistory);\r\n        setApplicantInfo({ ...applicantInfo, fname: e.target.value });\r\n    };\r\n\r\n    function handleLnameChange(e) {\r\n        console.log(applicantInfo);\r\n        setApplicantInfo({ ...applicantInfo, lname: e.target.value });\r\n    };\r\n\r\n    function handleDobChange(e) {\r\n        console.log(applicantInfo);\r\n        setApplicantInfo({ ...applicantInfo, dob: e.target.value });\r\n    };\r\n\r\n    function handlePhoneChange(e) {\r\n        console.log(applicantInfo);\r\n        setApplicantInfo({ ...applicantInfo, phone: e.target.value });\r\n    };\r\n\r\n    function handleEmailChange(e) {\r\n        console.log(applicantInfo);\r\n        setApplicantInfo({ ...applicantInfo, email: e.target.value });\r\n    };\r\n\r\n    function handleStartChange(e) {\r\n        console.log(applicantInfo);\r\n        setApplicantInfo({ ...applicantInfo, start: e.target.value });\r\n    };\r\n\r\n    const handleApplicationSubmit = (e) => {\r\n        e.preventDefault()\r\n        db.collection(\"applications\").doc(currentUser.uid).set({\r\n            ...applicantInfo\r\n        }, { merge: true })\r\n            .then(function () {\r\n                console.log(\"Document successfully written!\");\r\n                setApply(false)\r\n            })\r\n            .catch(function (error) {\r\n                console.error(\"Error writing document: \", error);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <main className=\"application-form-wrapper\">\r\n            <form className=\"application-form\">\r\n                <h1 className=\"app-title\">{position}</h1>\r\n\r\n                <button\r\n                    className=\"submit-btn btn btn-light btn-submit close-btn\"\r\n                    type=\"button\"\r\n                    onClick={() => { setApply(false) }}\r\n                >\r\n                    X\r\n                </button>\r\n\r\n                <div className=\"row application-section\">\r\n                    {/* First Name */}\r\n                    <div className=\"col-md-4 input-area\">\r\n                        <label className=\"app-label\">First Name</label>\r\n                        <input onChange={handleFnameChange} type=\"text\" id=\"fname\" name=\"fname\" className=\"riser app-input\"></input>\r\n                    </div>\r\n\r\n                    {/* Last Name */}\r\n                    <div className=\"col-md-4 input-area\">\r\n                        <label className=\"app-label\">Last Name</label>\r\n                        <input onChange={handleLnameChange} type=\"text\" id=\"lname\" name=\"lname\" className=\"riser app-input\"></input>\r\n                    </div>\r\n\r\n                    {/* Date of Birth */}\r\n                    <div className=\"col-md-4 input-area\">\r\n                        <label className=\"app-label\">Date of Birth</label>\r\n                        <input onChange={handleDobChange} type=\"date\" id=\"birthDate\" name=\"birthDate\" className=\"riser app-input\"></input>\r\n                    </div>\r\n\r\n                    {/* Phone */}\r\n                    <div className=\"col-md-4 input-area\">\r\n                        <label className=\"app-label\">Phone</label>\r\n                        <input onChange={handlePhoneChange} type=\"tel\" id=\"tel\" name=\"tel\" className=\"riser app-input\"></input>\r\n                    </div>\r\n\r\n                    {/* Email */}\r\n                    <div className=\"col-md-4 input-area\">\r\n                        <label className=\"app-label\">Email</label>\r\n                        <input onChange={handleEmailChange} type=\"email\" id=\"email\" name=\"email\" className=\"riser app-input\"></input>\r\n                    </div>\r\n\r\n                    {/* Start Date */}\r\n                    <div className=\"col-md-4 input-area\">\r\n                        <label className=\"app-label\">When are you available to start?</label>\r\n                        <input onChange={handleStartChange} type=\"date\" id=\"hireDate\" name=\"hireDate\" className=\"riser app-input\"></input>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row application-section\">\r\n                    {/* Expandable work history section */}\r\n                    {workHistory > 0 ? <WorkHistory historyItem={1} db={db} currentUser={currentUser} position={position} /> : null}\r\n                    {workHistory > 1 ? <WorkHistory historyItem={2} db={db} currentUser={currentUser} position={position} /> : null}\r\n                    {workHistory > 2 ? <WorkHistory historyItem={3} db={db} currentUser={currentUser} position={position} /> : null}\r\n                    {workHistory < 3 ?\r\n                        <div>\r\n                            <button\r\n                                className=\"submit-btn btn btn-light btn-submit\"\r\n                                type=\"button\"\r\n                                onClick={() => {\r\n                                    setWorkHistory(workHistory + 1)\r\n                                    console.log(workHistory)\r\n                                }}\r\n                            >\r\n                                + Experience\r\n                            </button>\r\n                        </div>\r\n                        : null}\r\n                </div>\r\n                {questions.map((question, i) => (\r\n                    <div key={i}>\r\n                        <AppQuestion qid={i} question={question} db={db} currentUser={currentUser} position={position} />\r\n                    </div>\r\n                ))}\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"submit-btn btn btn-light btn-submit\"\r\n                    onClick={handleApplicationSubmit}\r\n                >\r\n                    Submit Application\r\n                </button>\r\n            </form>\r\n        </main>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}